<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="https://res.cloudinary.com/djttn4xvk/image/upload/v1744016662/iv8s8dkwdzxgnubsnhla.ico">
    <title>Poxel Competitive</title>
    <style>
        :root {
            --dark: #121212;
            --dark-accent: #1e1e1e;
            --orange: #ff5722;
            --orange-light: #ff7e47;
            --orange-dark: #c41c00;
            --text: #f5f5f5;
            --text-secondary: #aaaaaa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--dark);
            color: var(--text);
            min-height: 100vh;
        }
        
        header {
            background-color: var(--dark-accent);
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }
        
        .logo h1 {
            font-size: 2rem;
            background: linear-gradient(to right, var(--orange), var(--orange-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .logo-icon {
            color: var(--orange);
            font-size: 2rem;
        }
        
        nav {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
        }
        
        .nav-tab {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 600;
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-tab::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background-color: var(--orange);
            transition: width 0.3s ease;
        }
        
        .nav-tab:hover {
            color: var(--text);
        }
        
        .nav-tab.active {
            color: var(--orange);
        }
        
        .nav-tab.active::after {
            width: 100%;
        }
        
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        .content-section {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .content-section.active {
            display: block;
            opacity: 1;
        }
        
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--orange-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .card {
            background-color: var(--dark-accent);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* Upcoming matches section */
        .matches-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .match-card {
            border-left: 4px solid var(--orange);
        }
        
        .match-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .match-date {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .match-type {
            background-color: var(--orange-dark);
            color: var(--text);
            font-size: 0.8rem;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
        }
        
        .match-teams {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .team {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            width: 40%;
        }
        
        .team-name {
            font-weight: 600;
            text-align: center;
        }
        
        .team-logo {
            width: 50px;
            height: 50px;
            background-color: #333;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text);
            font-weight: bold;
        }
        
        .versus {
            font-size: 1.2rem;
            color: var(--orange);
        }
        
        .match-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        /* Leaderboard section */
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .leaderboard-table th {
            text-align: left;
            padding: 1rem;
            background-color: rgba(255, 87, 34, 0.1);
            color: var(--orange);
            font-weight: 600;
        }
        
        .leaderboard-table td {
            padding: 1rem;
            border-bottom: 1px solid #333;
        }
        
        .leaderboard-table tr:hover {
            background-color: rgba(255, 87, 34, 0.05);
        }
        
        .rank {
            width: 60px;
            text-align: center;
            font-weight: bold;
        }
        
        .top-rank {
            color: var(--orange);
        }
        
        .player {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .player-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .stats {
            text-align: center;
        }
        
        /* Bracket section */
        .tournament-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .bracket-container {
            overflow-x: auto;
            padding: 1rem 0;
        }
        
        .bracket {
            display: flex;
            justify-content: space-between;
            min-width: 900px;
        }
        
        .round {
            display: flex;
            flex-direction: column;
            width: 200px;
            justify-content: space-around;
        }
        
        .round-title {
            text-align: center;
            margin-bottom: 1rem;
            color: var(--orange);
            font-weight: 600;
        }
        
        .match-bracket {
            background-color: var(--dark-accent);
            border-radius: 4px;
            padding: 0.8rem;
            margin: 0.5rem;
            position: relative;
        }
        
        .match-bracket.completed {
            border-left: 3px solid var(--orange);
        }
        
        .match-bracket.upcoming {
            border-left: 3px solid var(--text-secondary);
        }
        
        .connector {
            position: absolute;
            right: -15px;
            top: 50%;
            width: 15px;
            height: 2px;
            background-color: #444;
        }
        
        .bracket-team {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .bracket-team:last-child {
            margin-bottom: 0;
        }
        
        .bracket-team-name {
            font-size: 0.9rem;
        }
        
        .bracket-score {
            font-weight: bold;
        }
        
        .bracket-winner {
            color: var(--orange);
        }
        
        /* Filters and controls */
        .filter-controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }
        
        .filter-btn {
            background-color: var(--dark-accent);
            border: 1px solid #444;
            color: var(--text-secondary);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-btn:hover {
            background-color: #333;
            color: var(--text);
        }
        
        .filter-btn.active {
            background-color: var(--orange-dark);
            color: var(--text);
            border-color: var(--orange);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            nav {
                overflow-x: auto;
                justify-content: flex-start;
                padding-bottom: 0.5rem;
            }
            
            .matches-grid {
                grid-template-columns: 1fr;
            }
            
            .tournament-controls {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .filter-controls {
                justify-content: center;
            }
        }
        
        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        /* Empty state */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            text-align: center;
            color: var(--text-secondary);
        }
        
        .empty-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--orange-dark);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <div class="logo-icon">🏆</div>
            <h1>Poxel Competitive</h1>
        </div>
        <nav>
            <button class="nav-tab active" data-section="upcoming-matches">Upcoming Matches</button>
            <button class="nav-tab" data-section="leaderboard">Leaderboard</button>
            <button class="nav-tab" data-section="bracket">Tournament Bracket</button>
        </nav>
    </header>
    
    <main>
        <!-- Upcoming Matches Section -->
        <section id="upcoming-matches" class="content-section active">
            <h2 class="section-title">
                <span>🎮</span> Upcoming Matches
            </h2>
            
            <div class="filter-controls">
                <button class="filter-btn active" data-filter="all">All Matches</button>
                <button class="filter-btn" data-filter="quarterfinals">Quarterfinals</button>
                <button class="filter-btn" data-filter="semifinals">Semifinals</button>
                <button class="filter-btn" data-filter="finals">Finals</button>
            </div>
            
            <div class="matches-grid" id="matches-container">
                <!-- Matches will be populated here via JavaScript -->
            </div>
        </section>
        
        <!-- Leaderboard Section -->
        <section id="leaderboard" class="content-section">
            <h2 class="section-title">
                <span>📊</span> Tournament Leaderboard
            </h2>
            
            <div class="filter-controls">
                <button class="filter-btn active" data-sort="rank">Rank</button>
                <button class="filter-btn" data-sort="wins">Wins</button>
                <button class="filter-btn" data-sort="points">Points</button>
            </div>
            
            <div class="card">
                <table class="leaderboard-table" id="leaderboard-table">
                    <thead>
                        <tr>
                            <th class="rank">Rank</th>
                            <th>Player</th>
                            <th class="stats">Matches</th>
                            <th class="stats">Wins</th>
                            <th class="stats">Losses</th>
                            <th class="stats">Points</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-body">
                        <!-- Leaderboard data will be populated here via JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>
        
        <!-- Tournament Bracket Section -->
        <section id="bracket" class="content-section">
            <h2 class="section-title">
                <span>🏆</span> Tournament Bracket
            </h2>
            
            <div class="tournament-controls">
                <div class="filter-controls">
                    <button class="filter-btn active" data-tournament="current">Current Tournament</button>
                    <button class="filter-btn" data-tournament="previous">Previous Tournament</button>
                </div>
            </div>
            
            <div class="bracket-container">
                <div class="bracket" id="bracket-container">
                    <!-- Bracket will be populated here via JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <script>
        // Sample data - in a real application, this would come from an API or database
        const matchesData = [
            {
                id: 1,
                date: "2025-04-12T15:00:00",
                type: "Quarterfinals",
                team1: { id: 1, name: "Phoenix Flames", logo: "PF" },
                team2: { id: 2, name: "Shadow Hawks", logo: "SH" },
                venue: "East Arena",
                streamLink: "#"
            },
            {
                id: 2,
                date: "2025-04-12T18:00:00",
                type: "Quarterfinals",
                team1: { id: 3, name: "Neon Tigers", logo: "NT" },
                team2: { id: 4, name: "Quantum Knights", logo: "QK" },
                venue: "West Stadium",
                streamLink: "#"
            },

        ];

        const leaderboardData = [
            { id: 1, name: "PLAYER", avatar: "PF", matches: 5, wins: 4, losses: 1, points: 12 },

        ];

        const bracketData = {
            current: {
                rounds: [
                    {
                        name: "Quarterfinals",
                        matches: [
                            {
                                id: 1,
                                team1: { id: 1, name: "Phoenix Flames", score: null },
                                team2: { id: 2, name: "Shadow Hawks", score: null },
                                winner: null,
                                completed: false
                            },
                            {
                                id: 2,
                                team1: { id: 3, name: "Neon Tigers", score: null },
                                team2: { id: 4, name: "Quantum Knights", score: null },
                                winner: null,
                                completed: false
                            },
                            {
                                id: 3,
                                team1: { id: 5, name: "Arctic Wolves", score: null },
                                team2: { id: 6, name: "Crimson Dragons", score: null },
                                winner: null,
                                completed: false
                            },
                            {
                                id: 4,
                                team1: { id: 7, name: "Velocity Vipers", score: null },
                                team2: { id: 8, name: "Galactic Guardians", score: null },
                                winner: null,
                                completed: false
                            }
                        ]
                    },
                    {
                        name: "Semifinals",
                        matches: [
                            {
                                id: 5,
                                team1: { id: 0, name: "TBD", score: null },
                                team2: { id: 0, name: "TBD", score: null },
                                winner: null,
                                completed: false
                            },
                            {
                                id: 6,
                                team1: { id: 0, name: "TBD", score: null },
                                team2: { id: 0, name: "TBD", score: null },
                                winner: null,
                                completed: false
                            }
                        ]
                    },
                    {
                        name: "Finals",
                        matches: [
                            {
                                id: 7,
                                team1: { id: 0, name: "TBD", score: null },
                                team2: { id: 0, name: "TBD", score: null },
                                winner: null,
                                completed: false
                            }
                        ]
                    }
                ]
            },
            previous: {
                rounds: [
                    {
                        name: "Quarterfinals",
                        matches: [
                            {
                                id: 101,
                                team1: { id: 1, name: "Phoenix Flames", score: 3 },
                                team2: { id: 8, name: "Galactic Guardians", score: 1 },
                                winner: 1,
                                completed: true
                            },
                            {
                                id: 102,
                                team1: { id: 3, name: "Neon Tigers", score: 3 },
                                team2: { id: 6, name: "Crimson Dragons", score: 0 },
                                winner: 3,
                                completed: true
                            },
                            {
                                id: 103,
                                team1: { id: 5, name: "Arctic Wolves", score: 2 },
                                team2: { id: 4, name: "Quantum Knights", score: 3 },
                                winner: 4,
                                completed: true
                            },
                            {
                                id: 104,
                                team1: { id: 7, name: "Velocity Vipers", score: 1 },
                                team2: { id: 2, name: "Shadow Hawks", score: 3 },
                                winner: 2,
                                completed: true
                            }
                        ]
                    },
                    {
                        name: "Semifinals",
                        matches: [
                            {
                                id: 105,
                                team1: { id: 1, name: "WOW", score: 3 },
                                team2: { id: 4, name: "Quantum Knights", score: 2 },
                                winner: 1,
                                completed: true
                            },
                            {
                                id: 106,
                                team1: { id: 3, name: "Neon Tigers", score: 3 },
                                team2: { id: 2, name: "Shadow Hawks", score: 1 },
                                winner: 3,
                                completed: true
                            }
                        ]
                    },
                    {
                        name: "Finals",
                        matches: [
                            {
                                id: 107,
                                team1: { id: 1, name: "Phoenix Flames", score: 2 },
                                team2: { id: 3, name: "Neon Tigers", score: 3 },
                                winner: 3,
                                completed: true
                            }
                        ]
                    }
                ]
            }
        };

        // DOM Elements
        const tabButtons = document.querySelectorAll('.nav-tab');
        const contentSections = document.querySelectorAll('.content-section');
        const matchesContainer = document.getElementById('matches-container');
        const leaderboardBody = document.getElementById('leaderboard-body');
        const bracketContainer = document.getElementById('bracket-container');
        
        // Initialize the application
        function init() {
            // Set up navigation tabs
            tabButtons.forEach(button => {
                button.addEventListener('click', () => switchTab(button.dataset.section));
            });
            
            // Set up filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    // Find all siblings and remove active class
                    const siblings = [...e.target.parentElement.children];
                    siblings.forEach(sibling => sibling.classList.remove('active'));
                    
                    // Add active class to clicked button
                    e.target.classList.add('active');
                    
                    // Handle filtering based on the section
                    if (e.target.parentElement.parentElement.id === 'upcoming-matches') {
                        filterMatches(e.target.dataset.filter);
                    } else if (e.target.parentElement.parentElement.id === 'leaderboard') {
                        sortLeaderboard(e.target.dataset.sort);
                    } else if (e.target.parentElement.parentElement.classList.contains('tournament-controls')) {
                        loadBracket(e.target.dataset.tournament);
                    }
                });
            });
            
            // Load initial data
            loadUpcomingMatches();
            loadLeaderboard();
            loadBracket('current');
        }
        
        // Tab switching function
        function switchTab(sectionId) {
            // Update active tab button
            tabButtons.forEach(button => {
                if (button.dataset.section === sectionId) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
            
            // Update visible section
            contentSections.forEach(section => {
                if (section.id === sectionId) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });
        }
        
        // Format date for display
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleString('en-US', { 
                weekday: 'short',
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }
        
        // Load upcoming matches
        function loadUpcomingMatches(filter = 'all') {
            matchesContainer.innerHTML = '';
            
            const filteredMatches = filter === 'all' 
                ? matchesData 
                : matchesData.filter(match => match.type.toLowerCase() === filter.toLowerCase());
            
            if (filteredMatches.length === 0) {
                matchesContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">📅</div>
                        <h3>No matches found</h3>
                        <p>There are no upcoming matches in this category.</p>
                    </div>
                `;
                return;
            }
            
            filteredMatches.forEach(match => {
                const matchElement = document.createElement('div');
                matchElement.className = 'card match-card fade-in';
                matchElement.innerHTML = `
                    <div class="match-header">
                        <span class="match-date">${formatDate(match.date)}</span>
                        <span class="match-type">${match.type}</span>
                    </div>
                    <div class="match-teams">
                        <div class="team">
                            <div class="team-logo">${match.team1.logo}</div>
                            <span class="team-name">${match.team1.name}</span>
                        </div>
                        <div class="versus">VS</div>
                        <div class="team">
                            <div class="team-logo">${match.team2.logo}</div>
                            <span class="team-name">${match.team2.name}</span>
                        </div>
                    </div>
                    <div class="match-footer">
                        <span>📍 ${match.venue}</span>
                        <a href="${match.streamLink}" style="color: var(--orange);">📺 Stream</a>
                    </div>
                `;
                matchesContainer.appendChild(matchElement);
            });
        }
        
        // Filter matches function
        function filterMatches(filter) {
            loadUpcomingMatches(filter);
        }
        
        // Load leaderboard data
        function loadLeaderboard(sortBy = 'rank') {
            leaderboardBody.innerHTML = '';
            
            // Sort the data based on the selected criteria
            let sortedData = [...leaderboardData];
            if (sortBy === 'wins') {
                sortedData.sort((a, b) => b.wins - a.wins);
            } else if (sortBy === 'points') {
                sortedData.sort((a, b) => b.points - a.points);
            } else {
                // Default sorting by rank (which is based on points, then wins)
                sortedData.sort((a, b) => {
                    if (b.points !== a.points) return b.points - a.points;
                    if (b.wins !== a.wins) return b.wins - a.wins;
                    return a.name.localeCompare(b.name);
                });
            }
            
            // Create table rows
            sortedData.forEach((player, index) => {
                const row = document.createElement('tr');
                row.className = 'fade-in';
                row.style.animationDelay = `${index * 0.05}s`;
                
                const rankClass = index < 3 ? 'top-rank' : '';
                
                row.innerHTML = `
                    <td class="rank ${rankClass}">${index + 1}</td>
                    <td>
                        <div class="player">
                            <div class="player-avatar">${player.avatar}</div>
                            <div class="player-name">${player.name}</div>
                        </div>
                    </td>
                    <td class="stats">${player.matches}</td>
                    <td class="stats">${player.wins}</td>
                    <td class="stats">${player.losses}</td>
                    <td class="stats">${player.points}</td>
                `;
                
                leaderboardBody.appendChild(row);
            });
        }
        
        // Sort leaderboard function
        function sortLeaderboard(sortBy) {
            loadLeaderboard(sortBy);
        }
        
        // Load bracket data
        function loadBracket(tournament = 'current') {
            bracketContainer.innerHTML = '';
            
            const data = bracketData[tournament];
            if (!data || !data.rounds) {
                bracketContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">🏆</div>
                        <h3>No bracket data available</h3>
                        <p>The tournament bracket is not available at this time.</p>
                    </div>
                `;
                return;
            }
            
            // Create rounds
            data.rounds.forEach((round, roundIndex) => {
                const roundElement = document.createElement('div');
                roundElement.className = 'round';
                
                // Add round title
                const titleElement = document.createElement('div');
                titleElement.className = 'round-title';
                titleElement.textContent = round.name;
                roundElement.appendChild(titleElement);
                
                // Add matches for this round
                round.matches.forEach((match, matchIndex) => {
                    const matchElement = document.createElement('div');
                    matchElement.className = `match-bracket ${match.completed ? 'completed' : 'upcoming'}`;
                    
                    // Team 1
                    const team1Element = document.createElement('div');
                    team1Element.className = `bracket-team ${match.winner === match.team1.id ? 'bracket-winner' : ''}`;
                    team1Element.innerHTML = `
                        <span class="bracket-team-name">${match.team1.name}</span>
                        <span class="bracket-score">${match.team1.score !== null ? match.team1.score : '-'}</span>
                    `;
                    matchElement.appendChild(team1Element);
                    
                    // Team 2
                    const team2Element = document.createElement('div');
                    team2Element.className = `bracket-team ${match.winner === match.team2.id ? 'bracket-winner' : ''}`;
                    team2Element.innerHTML = `
                        <span class="bracket-team-name">${match.team2.name}</span>
                        <span class="bracket-score">${match.team2.score !== null ? match.team2.score : '-'}</span>
                    `;
                    matchElement.appendChild(team2Element);
                    
                    // Add connector if not the final round
                    if (roundIndex < data.rounds.length - 1) {
                        const connector = document.createElement('div');
                        connector.className = 'connector';
                        matchElement.appendChild(connector);
                    }
                    
                    // Add match to round
                    roundElement.appendChild(matchElement);
                });
                
                // Add round to bracket
                bracketContainer.appendChild(roundElement);
            });
        }
        
        // Function to update match scores and advance teams in bracket
        function updateMatchResult(matchId, team1Score, team2Score) {
            // Find the match in bracketData
            let match;
            let round;
            let roundIndex;
            
            for (const tournamentKey in bracketData) {
                const tournament = bracketData[tournamentKey];
                
                for (let i = 0; i < tournament.rounds.length; i++) {
                    const foundMatch = tournament.rounds[i].matches.find(m => m.id === matchId);
                    if (foundMatch) {
                        match = foundMatch;
                        round = tournament.rounds[i];
                        roundIndex = i;
                        break;
                    }
                }
                
                if (match) break;
            }
            
            if (!match) return false;
            
            // Update scores
            match.team1.score = team1Score;
            match.team2.score = team2Score;
            match.completed = true;
            
            // Determine winner
            const winnerId = team1Score > team2Score ? match.team1.id : match.team2.id;
            match.winner = winnerId;
            
            // Find the winning team object
            const winnerTeam = winnerId === match.team1.id ? match.team1 : match.team2;
            
            // If there's a next round, update the advancing team
            if (roundIndex < bracketData.current.rounds.length - 1) {
                const nextRound = bracketData.current.rounds[roundIndex + 1];
                const matchPosition = Math.floor(match.id % 2 === 1 ? match.id / 2 : (match.id - 1) / 2);
                
                if (nextRound && nextRound.matches[matchPosition]) {
                    // Update the appropriate team in the next round
                    if (match.id % 2 === 1) {
                        nextRound.matches[matchPosition].team1 = {
                            id: winnerId,
                            name: winnerTeam.name,
                            score: null
                        };
                    } else {
                        nextRound.matches[matchPosition].team2 = {
                            id: winnerId,
                            name: winnerTeam.name,
                            score: null
                        };
                    }
                }
            }
            
            // Also update the leaderboard data
            updateLeaderboardWithMatchResult(match.team1.id, match.team2.id, winnerId);
            
            // Refresh the UI
            loadBracket('current');
            loadLeaderboard();
            return true;
        }
        
        // Update leaderboard when a match result is recorded
        function updateLeaderboardWithMatchResult(team1Id, team2Id, winnerId) {
            // Find the teams in the leaderboard
            const team1 = leaderboardData.find(team => team.id === team1Id);
            const team2 = leaderboardData.find(team => team.id === team2Id);
            
            if (!team1 || !team2) return;
            
            // Update matches played
            team1.matches += 1;
            team2.matches += 1;
            
            // Update wins, losses, and points
            if (winnerId === team1Id) {
                team1.wins += 1;
                team1.points += 3;
                team2.losses += 1;
            } else {
                team2.wins += 1;
                team2.points += 3;
                team1.losses += 1;
            }
        }
        
        // Function to add a new match to the schedule
        function addMatch(match) {
            // Add to matchesData
            matchesData.push(match);
            
            // Sort matches by date
            matchesData.sort((a, b) => new Date(a.date) - new Date(b.date));
            
            // Refresh the UI
            loadUpcomingMatches();
        }
        
        // Function to update a team on the leaderboard
        function updateTeam(teamId, updates) {
            const team = leaderboardData.find(team => team.id === teamId);
            if (!team) return false;
            
            // Apply updates
            Object.keys(updates).forEach(key => {
                if (team.hasOwnProperty(key)) {
                    team[key] = updates[key];
                }
            });
            
            // Refresh the UI
            loadLeaderboard();
            return true;
        }
        
        // Simulate a match result (for demo purposes)
        function simulateMatchResult(matchId) {
            // Generate random scores (1-3 for team1, 0-2 for team2)
            const team1Score = Math.floor(Math.random() * 3) + 1;
            const team2Score = Math.floor(Math.random() * 3);
            
            // Update the match result
            return updateMatchResult(matchId, team1Score, team2Score);
        }
        
        // Example function to simulate progression of the tournament
        function simulateTournamentProgress() {
            // Simulate quarterfinals
            for (let i = 1; i <= 4; i++) {
                simulateMatchResult(i);
            }
            
            // Simulate semifinals
            setTimeout(() => {
                for (let i = 5; i <= 6; i++) {
                    simulateMatchResult(i);
                }
                
                // Simulate finals
                setTimeout(() => {
                    simulateMatchResult(7);
                }, 1000);
            }, 1000);
        }
        
        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);

        // For demonstration, you can uncomment the line below to simulate tournament progression
        // setTimeout(simulateTournamentProgress, 3000);
    </script>
</body>
</html>
